<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>Vocabulary Learning Game</title>
<style>
    body { font-family: Arial; padding: 20px; }
    .btn { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
    .btn:hover { background: #45a049; }
    #question { font-size: 22px; margin: 20px 0; }
    #scoreBox { font-size: 18px; margin-top: 20px; }
</style>
</head>
<body>

<h2>Vocabulary Learning Game</h2>

<!-- æ˜¾ç¤ºå½“å‰è®¾ç½® -->
<div id="info"></div>

<div id="question"></div>

<div>
    <button class="btn" onclick="checkAnswer('A')" id="btnA">A</button>
    <button class="btn" onclick="checkAnswer('B')" id="btnB">B</button>
    <button class="btn" onclick="checkAnswer('C')" id="btnC">C</button>
</div>

<div id="scoreBox"></div>

<script>
/* ============================
   ä¿®æ”¹è¿™é‡Œå³å¯åŒºåˆ†ä¸åŒå¹´çº§
   ============================ */
const COURSE_ID = "G8";   
const TOPIC_ID = "T1";    
const TEXT_ID = "TX1";   
/* ============================ */

const STORAGE_KEY = COURSE_ID + "_" + TOPIC_ID + "_" + TEXT_ID + "_score";
const INDEX_KEY = COURSE_ID + "_" + TOPIC_ID + "_" + TEXT_ID + "_index";

// ====== ç¤ºä¾‹è¯æ±‡é¢˜ï¼ˆä½ ä¼šæ¢æˆæ¯ä¸ªå¹´çº§è‡ªå·±çš„è¯ï¼‰======
const questions = [
    {
        q: "â€œappleâ€ çš„ä¸­æ–‡æ˜¯ä»€ä¹ˆï¼Ÿ",
        A: "è‹¹æœ",
        B: "é¦™è•‰",
        C: "è‘¡è„",
        correct: "A"
    },
    {
        q: "â€œdogâ€ çš„ä¸­æ–‡æ˜¯ä»€ä¹ˆï¼Ÿ",
        A: "çŒ«",
        B: "ç‹—",
        C: "é¸Ÿ",
        correct: "B"
    }
];
// ===================================================

// åŠ è½½è¿›åº¦ & åˆ†æ•°
let score = Number(localStorage.getItem(STORAGE_KEY)) || 0;
let currentIndex = Number(localStorage.getItem(INDEX_KEY)) || 0;

// æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯
document.getElementById("info").innerHTML =
    `<b>å½“å‰å¹´çº§ï¼š</b> ${COURSE_ID} <br>
     <b>Topicï¼š</b> ${TOPIC_ID} <br>
     <b>Textï¼š</b> ${TEXT_ID}`;

function loadQuestion() {
    if (currentIndex >= questions.length) {
        document.getElementById("question").innerHTML = "ğŸ‰ æ‰€æœ‰å…³å¡å®Œæˆï¼";
        return;
    }
    const q = questions[currentIndex];
    document.getElementById("question").innerHTML = q.q;
    document.getElementById("btnA").innerText = "A. " + q.A;
    document.getElementById("btnB").innerText = "B. " + q.B;
    document.getElementById("btnC").innerText = "C. " + q.C;
    updateScoreBox();
}

function checkAnswer(option) {
    const correct = questions[currentIndex].correct;
    if (option === correct) {
        score++;
        alert("âœ” æ­£ç¡®ï¼");
    } else {
        alert("âœ˜ é”™è¯¯ï¼");
    }
    currentIndex++;

    // ä¿å­˜è¿›åº¦
    localStorage.setItem(STORAGE_KEY, score);
    localStorage.setItem(INDEX_KEY, currentIndex);

    loadQuestion();
}

function updateScoreBox() {
    document.getElementById("scoreBox").innerHTML =
        `å½“å‰å¾—åˆ†ï¼š${score} / ${questions.length}ï¼ˆå·²å®Œæˆ ${currentIndex} é¢˜ï¼‰`;
}

// åˆå§‹åŒ–
loadQuestion();
</script>
</body>
</html>
